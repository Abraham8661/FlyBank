{% extends "bankhall/base.html" %}
{% load static %}


{% block page_title %}Confirm Your Request{% endblock page_title %}

{% block css_files %}
<link rel="stylesheet" href="{% static "css/dashboard.css" %}">
<link rel="stylesheet" href="{% static "css/receive3.css" %}">
{% endblock css_files %}


{% block contents %}
{% include "includes/error_alert.html" %}

<form action="" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
<div id="transfer-box">
<div id="confirm-dialog"></div>
<div class="confirm-transfer">
    <div class="top-sec">
        <h5>Confirm Request!</h5>
        <button id="cancel-btn"><i class="fa-solid fa-xmark" style="color: #000000;"></i></button>
    </div>
    <p>To verify your transaction, please insert your security PIN below:</p>
    <input type="password" name="pin-code" max="4" min="4">
    <button class="confirm-btn">Confirm</button>
</div>

</div>


<section id="menu-options">
    <a href=""><img src="{% static "images/flybank-logo.png" %}" alt=""></a>
    <ul class="menu-items">
        <li><a class="current-item2" href="{% url "dashboard" %}"><i class="fa-solid fa-archway"></i>Dashboard</a></li>
        <li><a class="current-item2" href="{% url "transfer1" %}"><i class="fa-regular fa-paper-plane"></i> Transfer</a></li>
        <li><a class="current-item" href="{% url "receive1" %}"><i class="fa-solid fa-money-bill-transfer"></i>Receive</a></li>
        <li><a class="current-item2" href="{% url "transaction" %}"><i class="fa-solid fa-receipt"></i>Transactions</a></li>
        <li><a class="current-item2" href="{% url "account" %}"><i class="fa-regular fa-user"></i>Account</a></li>
        <li><a class="current-item2" href=""><i class="fa-solid fa-headset"></i>Support</a></li>
        <li><a class="current-item2" href="{% url "logout" %}"><i class="fa-solid fa-arrow-right-from-bracket"></i>Logout</a></li>
    </ul>

</section>
{% include "includes/nav.html" %}

<section id="transfer3">
    <div class="trans-box3">
        <div class="trans-head">
            <h4>Request a Payment</h4>
        </div>
        <p class="step-display">Step 3 of 3</p>
        <h5 class="set-amount">Attach Documents</h5>

        <div class="search-item">
            <div class="image-and-text">
                    {% if user_account.account_image %}
                        <img src="{{ user_account.account_image.url }}" alt="">
                        {% else %}
                        <img src="{% static "images/blank-pic.jpg" %}" alt="">
                    {% endif %}
                <div class="recent-text">
                    <h6>{{ recipient_account.account_name }}</h6>
                    <p>{{ recipient_account.account_number }}</p>
                </div>
            </div>
            <a href="{% url "receive1" %}" class="choose-btn">Edit</a>
        </div>

        <div class="payment-details">
            <div class="top-text">
                <h5>Payment Details</h5>
                <a href="{% url "receive2" recipient_account.account_number %}" class="choose-btn">Edit</a>
            </div>

            <div class="trans-details">
                <div class="one-detail">
                    <p>Amount to Receive</p>
                    <h6>{{ new_request.amount|floatformat:"2g" }} NGN</h6>
                </div>
                <div class="one-detail">
                    <p>Description</p>
                    <h6>{{ new_request.description }}</h6>
                </div>
                <div class="one-detail">
                    <p>Payment due by</p>
                    <h6>{{ new_request.payment_due_by|date:"M dS, Y"}}</h6>
                </div>
                
            </div>
        </div>

        <div class="attach-doc">
            <div class="top-text">
                <h5>Attach Documents</h5>
            </div>
            <div class="doc-info">
                <p>Attach up to 3 documents (like your invoice or work contact) to your payment request.</p>
                <p>Supported files types: PDF, JPG, DOC. DOCX, JPEG, XLS & XLSX</p>
            </div>
            <div class="all-documents">
                <div class="document">
                    <p>Document1</p>
                    <input type="file" class="upload" name="document1" accept=".pdf, .jpg, .doc, .jpeg, .docx, .xls, .xlsx">
                </div>
                <div class="document">
                    <p>Document2</p>
                    <input type="file" class="upload" name="document2" accept=".pdf, .jpg, .doc, .jpeg, .docx, .xls, .xlsx">
                </div>
                <div class="document">
                    <p>Document3</p>
                    <input type="file" class="upload" name="document3" accept=".pdf, .jpg, .doc, .jpeg, .docx, .xls, .xlsx">
                </div>

            </div>

        </div>

        <div class="bottom-sec">
            <div class="transfer-btn">
                <a href="{% url "receive2" recipient_account.account_number %}" class="previous-btn">Previous</a>
                <button id="complete-btn" type="button">Request payment</button>
            </div>
        </div>




</section>
</form>

<script>
        var complete_botton = document.getElementById("complete-btn");
        var transfer_dialog = document.getElementById("transfer-box");
        var cancel_btn = document.getElementById("cancel-btn");

         // Add event listener to the checkbox
        complete_botton.addEventListener("click", function() {
          // If the checkbox is checked, show the text area; otherwise, hide it
          if (complete_botton.click) {
            transfer_dialog.style.display = "flex";
          } else {
            transfer_dialog.style.display = "none";
          }
        });
       
        cancel_btn.addEventListener("click", function() {
          // If the checkbox is checked, show the text area; otherwise, hide it
          if (cancel_btn.click) {
            transfer_dialog.style.display = "none";
          } else {
            transfer_dialog.style.display = "none";
          }
        });

    </script>



{% endblock contents %}